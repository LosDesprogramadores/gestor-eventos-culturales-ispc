<app-header></app-header>
<app-nav-home></app-nav-home>

<button class="create-button" (click)="crearEvento()">Crear Nuevo Evento</button>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Título</th>
        <th>Fecha</th>
        <th>Ubicación</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
     @if (eventos$ | async; as eventos) {
      @for (evento of eventos; track evento.$id_evento) {
       <tr>
          <td>{{ evento.$nombre }}</td>
          <td>{{ evento.$fechaHoraEvento  }}</td>
          <td>{{ evento.$ubicacion }}</td>
          <td>
            <button class="edit-button" (click)="editarEvento(evento)">Editar</button>
            <button class="delete-button" (click)="eliminarEvento(evento.$id_evento)">Eliminar</button>
          </td>
        </tr>
      } @empty {
        <tr>
          <td colspan="4" class="no-events">No hay eventos para mostrar.</td>
        </tr>
      }
    }
    </tbody>
  </table>
</div>

@if (eventos$ | async; as eventos) {
      @for (evento of eventos; track evento.$id_evento) {
        <div class="col-sm-6 col-md-4 col-lg-3">
          <div class="card h-100 shadow-sm">
            <div class="imagen-evento">
              <img src="{{ evento.$imagen }}" alt="Evento"
                class="card-img-top img-hover-scale object-fit-cover">
            </div>
            <div class="card-body">
              <h5 class="card-title titulo">{{ evento.$nombre }}</h5>
              <p class="capacidad mb-1"><strong>{{ evento.$capacidad }}:</strong> lugares</p>
              <p class="lugar mb-1">{{ evento.$ubicacion }} </p>
              <p class="fecha mb-0">{{ evento.$fechaHoraEvento }} </p>
            </div>
            <div class="botones-card px-3 pb-3 d-flex gap-2">
           <a href="#" class="btn btn-success btn-sm flex-fill">Inscribirse</a>
            </div>
          </div>
        </div> 
      } @empty {
        <div class="col-12">
          <p>No hay eventos disponibles en este momento.</p>
        </div>
      }
    } @else {
      <div class="col-12">
        <p>Cargando eventos...</p>
      </div>
    }

<div class="card-container">



 @if (eventos$ | async; as eventos) {
      
    @for (evento of eventos; track evento.$id_evento) {
    <div class="event-card">
      <div class="card-header">
        <h3>{{ evento.$nombre }}</h3>
      </div>
      <div class="card-body">
        <p><strong>Fecha:</strong> {{ evento.$fechaHoraEvento }}</p>
        <p><strong>Ubicación:</strong> {{ evento.$ubicacion }}</p>
      </div>
      <div class="card-actions">
        <button class="edit-button" (click)="editarEvento(evento)">Editar</button>
        <button class="delete-button" (click)="eliminarEvento(evento.$id_evento)">Eliminar</button>
      </div>
    </div>
  } @empty {
    <p class="no-events">No hay eventos para mostrar.</p>
  }
}
</div>


<app-footer></app-footer>
