<main class="login" role="main">
  <div class="login-background">
    <div class="login-container">
      
      <section class="welcome-section">
        <h1>¡Bienvenido de Nuevo!</h1>
        <p>Tu espacio para conectar con la cultura. Explorá actividades, anotate en eventos y disfrutá nuevas experiencias cerca tuyo</p>

        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f" aria-hidden="true"></i><span class="sr-only">Facebook</span></a>
          <a href="#"><i class="fab fa-twitter" aria-hidden="true"></i><span class="sr-only">Twitter</span></a>
          <a href="#"><i class="fab fa-instagram" aria-hidden="true"></i><span class="sr-only">Instagram</span></a>
          <a href="#"><i class="fab fa-youtube" aria-hidden="true"></i><span class="sr-only">YouTube</span></a>
        </div>

        <div class="home-icon">
          <a routerLink="/" title="Volver al inicio">
            <i class="fa-solid fa-house-chimney" aria-hidden="true"></i>
            <span class="sr-only">Inicio</span>
          </a>
        </div>
      </section>
      
      <section class="login-card" aria-labelledby="loginTitle">
        <h2 id="loginTitle">Iniciar Sesión</h2>

        <form
          [formGroup]="form"
          (ngSubmit)="onSubmit()"
          class="login-form"
          novalidate
          [attr.aria-busy]="loading() ? 'true' : null"
          aria-describedby="loginHelp loginError"
        >
          <div class="form-group">
            <label for="email">Correo Electrónico</label>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="username"
              inputmode="email"
              aria-required="true"
              required
              formControlName="email"
            />
            @if (email?.errors && email?.touched) {
              @if (email?.hasError('required')) {
                <p class="text-danger">El correo electrónico es obligatorio.</p>
              } @else if (email?.hasError('email')) {
                <p class="text-danger">Formato de correo electrónico inválido.</p>
              }
            }
          </div>

          <div class="form-group">
            <label for="password">Contraseña</label>
            <input
              id="password"
              name="password"
              type="password"
              autocomplete="current-password"
              aria-required="true"
              required
              minlength="8"
              formControlName="password"
            />
            @if (password?.errors && password?.touched) {
              @if (password?.hasError('required')) {
                <p class="text-danger">La contraseña es requerida.</p>
              } @else if (password?.hasError('minlength')) {
                <p class="text-danger">La contraseña requiere como mínimo 8 caracteres.</p>
              }
            }
          </div>

          <div class="form-group remember-me">
            <label>
              <input id="remember" type="checkbox" formControlName="remember" />
              Recordarme
            </label>
          </div>

          <button
            type="submit"
            class="btn-login"
            [disabled]="loading() || form.invalid"
          >
            {{ loading() ? 'Ingresando…' : 'Ingresar Ahora' }}
          </button>

          <div class="login-actions">
            <a routerLink="/recuperar" class="forgot-password">¿Olvidó su contraseña?</a>
            <a routerLink="/registro" class="create-account">Crear nueva cuenta</a>
          </div>

          @if (error()) {
            <p id="loginError" class="text-danger" role="alert" aria-live="assertive">
              {{ error() }}
            </p>
          }

          <p class="terms">
            Al hacer clic en "Ingresar Ahora" aceptas nuestros 
            <a href="#">Términos de Servicio</a> y <a href="#">Política de Privacidad</a>.
          </p>
        </form>
      </section>

    </div>
  </div>
</main>
